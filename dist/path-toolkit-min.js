!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.PathToolkit=t()}(this,function(){"use strict";var e=function(e){return e}(),t="*",r="undefined",n="string",o="parent",s="root",i="placeholder",a="context",f="property",c="collection",p="each",u="singlequote",l="doublequote",h="call",x="evalProperty",y=function(e,r){var n=(e.indexOf(t),e.split(t,2)),o=!0;if(n[0]){if(n[0]===e)return n[0]===r;o=o&&r.substr(0,n[0].length)===n[0]}return n[1]&&(o=o&&r.substr(-1*n[1].length)===n[1]),o},d=function(e){return typeof e!==r&&null!==e&&("function"==typeof e||"object"==typeof e)},g=function(e){var t;return typeof e!==n?e&&!0:(t=e.toUpperCase(),"TRUE"===t||"YES"===t||"ON"===t)},v=function(e,t){var r=new RegExp(e,"g");return e+t.replace(r,"\\"+e)+e},w=function(w){var E,m,C,P,A,O,b,S,j,R,k,q,D,F,T=this,U={},$={},N=function(){E=Object.keys($.prefixes),m=Object.keys($.separators),C=Object.keys($.containers),P=C.map(function(e){return $.containers[e].closer}),A="",Object.keys($.separators).forEach(function(e){$.separators[e].exec===f&&(A=e)}),O="",b="",Object.keys($.containers).forEach(function(e){$.containers[e].exec===u&&(O=e),$.containers[e].exec===l&&(b=e)}),S="[\\\\"+[t].concat(E).concat(m).concat(C).join("\\").replace("\\"+A,"")+"]",j=new RegExp(S),R="[\\\\\\"+[t].concat(E).concat(m).concat(C).concat(P).join("\\")+"]",k=new RegExp(R,"g"),q=new RegExp("\\"+R.replace(/^\[/,"[^")),D=O||b?new RegExp("\\["+O+b+"]","g"):"",F=new RegExp("\\"+t)},V=function(){$=$||{},$.useCache=!0,$.simple=!1,$.force=!1,$.prefixes={"^":{exec:o},"~":{exec:s},"%":{exec:i},"@":{exec:a}},$.separators={".":{exec:f},",":{exec:c},"<":{exec:p}},$.containers={"[":{closer:"]",exec:f},"'":{closer:"'",exec:u},'"':{closer:'"',exec:l},"(":{closer:")",exec:h},"{":{closer:"}",exec:x}}},Y=function(e){var t=e.replace(D,""),r=t.length;return!(r<2)&&(t[0]===t[r-1]&&(t[0]===O||t[0]===b))},z=function(e){return Y(e)?e.slice(1,-1):e},B=function(r){var o="",s=!0,i=[],a=[],x={},y=0,d="",g=!1,v=!1,w="",E=0,m="",C="",P="",O=[],b=0,S=0;if($.useCache&&U[r]!==e)return U[r];if(o=r.replace(q,"$&".substr(1)),y=o.length,typeof r===n&&!j.test(r))return i=o.split(A),$.useCache&&(U[r]={t:i,simple:s}),{t:i,simple:s};for(E=0;E<y;E++){if(S||"\\"!==o[E]||(S=E+1,E++),o[E]===t&&(g=!0),b>0)if(!S&&o[E]===m&&m!==C.closer&&b++,!S&&o[E]===C.closer&&b--,b>0)w+=o[E];else{if(E+1<y&&$.separators[o[E+1]]&&$.separators[o[E+1]].exec===c){if(w.length&&C.exec===f)a=z(w);else if(C.exec===u||C.exec===l)a=w;else{if(a=B(w),a===e)return;a.exec=C.exec,a.doEach=v}O.push(a)}else if(O[0]){if(w.length&&C.exec===f)a=z(w);else if(C.exec===u||C.exec===l)a=w;else{if(a=B(w),a===e)return;a.exec=C.exec,a.doEach=v}O.push(a),i.push({tt:O,doEach:v}),O=[],s&=!1}else if(C.exec===f)a={t:[z(w)]},v?(i.push({w:a.t[0],mods:{},doEach:!0}),s&=!1,v=!1):(i.push(a.t[0]),s&=!0);else if(C.exec===u||C.exec===l)i.push(w),s&=!0;else{if(a=""===w?{t:[],simple:!0}:B(w),a===e)return;a.exec=C.exec,a.doEach=v,i.push(a),s&=!1}w=""}else if(!S&&o[E]in $.prefixes&&$.prefixes[o[E]].exec)x.has=!0,x[$.prefixes[o[E]].exec]?x[$.prefixes[o[E]].exec]++:x[$.prefixes[o[E]].exec]=1;else if(!S&&$.separators[o[E]]&&$.separators[o[E]].exec){if(P=$.separators[o[E]],!d&&(x.has||g))return;d&&(x.has||g||v)&&(d={w:d,mods:x,doEach:v},x={},s&=!1),P.exec===f||P.exec===p?(O[0]!==e?(d&&O.push(d),i.push({tt:O,doEach:v}),O=[],s&=!1):(d&&i.push(d),s&=!0),v=P.exec===p):P.exec===c&&d&&O.push(d),d="",g=!1}else!S&&$.containers[o[E]]&&$.containers[o[E]].exec?(C=$.containers[o[E]],d&&(x.has||g||v)&&("string"==typeof d?d={w:d,mods:x,doEach:v}:(d.mods=x,d.doEach=v),x={}),O[0]!==e?d&&O.push(d):(d&&i.push(d),s&=!0),m=o[E],d&&$.containers[m].exec!==h&&(v=!1),d="",g=!1,b++):E<y&&(d+=o[E]);E<y&&E===S&&(S=0)}return S||("string"==typeof d&&d&&(x.has||g||v)?(d={w:d,mods:x,doEach:v},x={},s&=!1):d&&d.mods&&(d.mods=x),O[0]!==e?(d&&O.push(d),i.push({tt:O,doEach:v}),s&=!1):(d&&i.push(d),s&=!0),0!==b)?void 0:($.useCache&&(U[r]={t:i,simple:s}),{t:i,simple:s})},G=function(t,r,o,s,i){var a,f,c,p=o!==e,u=[],l=0,d=0,g=1,v=0,w=0,E=t,m="",C=0,P=0,A="",O=0,b=t,S=!1,j=0,R="";if(typeof r===n)if($.useCache&&U[r])u=U[r].t;else{if(u=B(r),u===e)return;u=u.t}else u=r.t?r.t:[r];if(l=u.length,0!==l){for(d=l-1,i?g=i.length:i=[t];E!==e&&O<l;){if(m=u[O],S=p&&O===d,typeof m===n){if(p)if(S){if(b[m]=o,b[m]!==o)return}else $.force&&"undefined"==typeof b[m]&&(b[m]={});f=b[m]}else if(m===e)f=void 0;else if(m.tt)if(f=[],m.doEach){if(!Array.isArray(b))return;for(w=0,P=b.length;w<P;){for(v=0,f.push([]),C=m.tt.length;v<C;){if(m.tt[v].doEach=!1,a=S?G(b[w],m.tt[v],o,s,i):"string"==typeof m.tt[v]?b[w][m.tt[v]]:G(b[w],m.tt[v],void 0,s,i),a===e)return;S?m.tt[v].t&&m.tt[v].exec===x?b[w][a]=o:f[w].push(a):m.tt[v].t&&m.tt[v].exec===x?f[w].push(b[w][a]):f[w].push(a),v++}w++}}else for(v=0,C=m.tt.length;v<C;){if(a=S?G(b,m.tt[v],o,s,i):"string"==typeof m.tt[v]?b[m.tt[v]]:G(b,m.tt[v],void 0,s,i),a===e)return;S?m.tt[v].t&&m.tt[v].exec===x?b[a]=o:f.push(a):m.tt[v].t&&m.tt[v].exec===x?f.push(b[a]):f.push(a),v++}else if(m.w){if(A=m.w,m.mods.has){if(m.mods.parent&&(b=i[g-1-m.mods.parent],b===e))return;if(m.mods.root&&(b=i[0],i=[b],g=1),m.mods.placeholder){if(j=A-1,s[j]===e)return;A=s[j].toString()}}if(m.doEach){if(!Array.isArray(b))return;for(f=[],v=0,P=b.length;v<P;){if(m.mods.context){if(j=A-1,s[j]===e)return;f.push(s[j])}else if(b[v][A]!==e)S&&(b[v][A]=o),f.push(b[v][A]);else if("function"==typeof b[v])f.push(A);else{if(!F.test(A))return;f.push([]);for(R in b[v])y(A,R)&&(S&&(b[v][R]=o),f[v].push(b[v][R]))}v++}}else if(m.mods.context){if(j=A-1,s[j]===e)return;f=s[j]}else if(b[A]!==e)S&&(b[A]=o),f=b[A];else if("function"==typeof b)f=A;else{if(!F.test(A))return;f=[];for(R in b)y(A,R)&&(S&&(b[R]=o),f.push(b[R]))}}else if(m.exec===x)if(m.doEach){if(!Array.isArray(b))return;for(f=[],v=0,P=b.length;v<P;)m.simple?(S&&(b[v][T.get(b[v],{t:m.t,simple:!0})]=o),f.push(b[v][T.get(b[v],{t:m.t,simple:!0})])):(S&&(b[v][G(b[v],m,e,s,i)]=o),f.push(b[v][G(b[v],m,e,s,i)])),v++}else m.simple?(S&&(b[T.get(b,{t:m.t,simple:!0})]=o),f=b[T.get(b,{t:m.t,simple:!0})]):(S&&(b[G(b,m,e,s,i)]=o),f=b[G(b,m,e,s,i)]);else if(m.exec===h)if(m.doEach){if(!Array.isArray(i[g-2]))return;for(f=[],v=0,P=b.length;v<P;)m.t&&m.t.length?(c=G(b,m,e,s,i),c===e?f.push(b[v].apply(i[g-2][v])):Array.isArray(c)?f.push(b[v].apply(i[g-2][v],c)):f.push(b[v].call(i[g-2][v],c))):f.push(b[v].call(i[g-2][v])),v++}else m.t&&m.t.length?(c=m.simple?T.get(b,m):G(b,m,e,s,i),f=c===e?b.apply(i[g-2]):Array.isArray(c)?b.apply(i[g-2],c):b.call(i[g-2],c)):f=b.call(i[g-2]);i[g++]=f,b=f,E=f,O++}return b}},H=function(t,r,n){var o=n!==e,s=[],i=0,a=0;for(s=r.split(A),$.useCache&&(U[r]={t:s,simple:!0}),a=s.length;t!==e&&i<a;){if(""===s[i])return;o&&(i===a-1?t[s[i]]=n:$.force&&"undefined"==typeof t[s[i]]&&(t[s[i]]={})),t=t[s[i++]]}return t},I=function(t,r,n){for(var o=n!==e,s=0,i=r.length;null!=t&&s<i;){if(""===r[s])return;o&&(s===i-1?t[r[s]]=n:$.force&&"undefined"==typeof t[r[s]]&&(t[r[s]]={})),t=t[r[s++]]}return t},J=function(e,t,r,n){var o,s,i,a,f;if(n=n?n:"",e===t)return r(n);if(Array.isArray(e)){for(s=e.length,o=0;o<s;o++)if(i=J(e[o],t,r,n+A+o),!i)return;return!0}if(d(e)){for(a=Object.keys(e),s=a.length,s>1&&(a=a.sort()),o=0;o<s;o++)if(e.hasOwnProperty(a[o])&&(f=a[o],k.test(f)&&(f=v(O,f)),i=J(e[a[o]],t,r,n+A+f),!i))return;return!0}return!0};T.getTokens=function(e){var t=B(e);if(typeof t!==r)return t},T.isValid=function(e){return typeof B(e)!==r},T.escape=function(e){return e.replace(k,"\\$&")},T.get=function(e,t){var r,o=0,s=arguments.length;if(typeof t===n){if($.useCache&&U[t]&&U[t].simple)return I(e,U[t].t);if(!j.test(t))return H(e,t)}else if(Array.isArray(t.t)&&t.simple)return I(e,t.t);if(r=[],s>2)for(o=2;o<s;o++)r[o-2]=arguments[o];return G(e,t,void 0,r)},T.set=function(t,r,o){var s,i,a=0,f=arguments.length,c=!1;if(typeof r===n?$.useCache&&U[r]&&U[r].simple?(i=I(t,U[r].t,o),c|=!0):j.test(r)||(i=H(t,r,o),c|=!0):Array.isArray(r.t)&&r.simple&&(i=I(t,r.t,o),c|=!0),!c){if(f>3)for(s=[],a=3;a<f;a++)s[a-3]=arguments[a];i=G(t,r,o,s)}return Array.isArray(i)?i.indexOf(void 0)===-1:i!==e},T.find=function(e,t,r){var n=[],o=function(e){return n.push(e.substr(1)),!(!r||"one"===r)||(n=n[0],!1)};return J(e,t,o),n[0]?n:void 0};var K=function(e,t,r,n){var o="";Object.keys(e).forEach(function(r){e[r].exec===t&&(o=r)}),delete e[o],e[r]={exec:t},n&&(e[r].closer=n)},L=function(e){var t={};typeof e===n&&1===e.length||(e="."),t[e]={exec:f},$.prefixes={},$.containers={},$.separators=t};T.setOptions=function(e){if(e.prefixes&&($.prefixes=e.prefixes,U={}),e.separators&&($.separators=e.separators,U={}),e.containers&&($.containers=e.containers,U={}),typeof e.cache!==r&&($.useCache=!!e.cache),typeof e.simple!==r){var t=$.useCache,n=$.force;$.simple=g(e.simple),$.simple?L():(V(),$.useCache=t,$.force=n),U={}}typeof e.force!==r&&($.force=g(e.force)),N()},T.setCache=function(e){$.useCache=g(e)},T.setCacheOn=function(){$.useCache=!0},T.setCacheOff=function(){$.useCache=!1},T.setForce=function(e){$.force=g(e)},T.setForceOn=function(){$.force=!0},T.setForceOff=function(){$.force=!1},T.setSimple=function(e,t){var r=$.useCache,n=$.force;$.simple=g(e),$.simple?(L(t),N()):(V(),N(),$.useCache=r,$.force=n),U={}},T.setSimpleOn=function(e){$.simple=!0,L(e),N(),U={}},T.setSimpleOff=function(){var e=$.useCache,t=$.force;$.simple=!1,V(),N(),$.useCache=e,$.force=t,U={}},T.setSeparatorProperty=function(e){if(typeof e!==n||1!==e.length)throw new Error("setSeparatorProperty - invalid value");if(e===t||$.separators[e]&&$.separators[e].exec!==f||$.prefixes[e]||$.containers[e])throw new Error("setSeparatorProperty - value already in use");K($.separators,f,e),N(),U={}},T.setSeparatorCollection=function(e){if(typeof e!==n||1!==e.length)throw new Error("setSeparatorCollection - invalid value");if(e===t||$.separators[e]&&$.separators[e].exec!==c||$.prefixes[e]||$.containers[e])throw new Error("setSeparatorCollection - value already in use");K($.separators,c,e),N(),U={}},T.setPrefixParent=function(e){if(typeof e!==n||1!==e.length)throw new Error("setPrefixParent - invalid value");if(e===t||$.prefixes[e]&&$.prefixes[e].exec!==o||$.separators[e]||$.containers[e])throw new Error("setPrefixParent - value already in use");K($.prefixes,o,e),N(),U={}},T.setPrefixRoot=function(e){if(typeof e!==n||1!==e.length)throw new Error("setPrefixRoot - invalid value");if(e===t||$.prefixes[e]&&$.prefixes[e].exec!==s||$.separators[e]||$.containers[e])throw new Error("setPrefixRoot - value already in use");K($.prefixes,s,e),N(),U={}},T.setPrefixPlaceholder=function(e){if(typeof e!==n||1!==e.length)throw new Error("setPrefixPlaceholder - invalid value");if(e===t||$.prefixes[e]&&$.prefixes[e].exec!==i||$.separators[e]||$.containers[e])throw new Error("setPrefixPlaceholder - value already in use");K($.prefixes,i,e),N(),U={}},T.setPrefixContext=function(e){if(typeof e!==n||1!==e.length)throw new Error("setPrefixContext - invalid value");if(e===t||$.prefixes[e]&&$.prefixes[e].exec!==a||$.separators[e]||$.containers[e])throw new Error("setPrefixContext - value already in use");K($.prefixes,a,e),N(),U={}},T.setContainerProperty=function(e,r){if(typeof e!==n||1!==e.length||typeof r!==n||1!==r.length)throw new Error("setContainerProperty - invalid value");if(e===t||$.containers[e]&&$.containers[e].exec!==f||$.separators[e]||$.prefixes[e])throw new Error("setContainerProperty - value already in use");K($.containers,f,e,r),N(),U={}},T.setContainerSinglequote=function(e,r){if(typeof e!==n||1!==e.length||typeof r!==n||1!==r.length)throw new Error("setContainerSinglequote - invalid value");if(e===t||$.containers[e]&&$.containers[e].exec!==u||$.separators[e]||$.prefixes[e])throw new Error("setContainerSinglequote - value already in use");K($.containers,u,e,r),N(),U={}},T.setContainerDoublequote=function(e,r){if(typeof e!==n||1!==e.length||typeof r!==n||1!==r.length)throw new Error("setContainerDoublequote - invalid value");if(e===t||$.containers[e]&&$.containers[e].exec!==l||$.separators[e]||$.prefixes[e])throw new Error("setContainerDoublequote - value already in use");K($.containers,l,e,r),N(),U={}},T.setContainerCall=function(e,r){if(typeof e!==n||1!==e.length||typeof r!==n||1!==r.length)throw new Error("setContainerCall - invalid value");if(e===t||$.containers[e]&&$.containers[e].exec!==h||$.separators[e]||$.prefixes[e])throw new Error("setContainerCall - value already in use");K($.containers,h,e,r),N(),U={}},T.setContainerEvalProperty=function(e,r){if(typeof e!==n||1!==e.length||typeof r!==n||1!==r.length)throw new Error("setContainerProperty - invalid value");if(e===t||$.containers[e]&&$.containers[e].exec!==x||$.separators[e]||$.prefixes[e])throw new Error("setContainerEvalProperty - value already in use");K($.containers,x,e,r),N(),U={}},T.resetOptions=function(){V(),N(),U={}},V(),N(),w&&T.setOptions(w)};return w});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJwYXRoLXRvb2xraXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUodCk6ZS5QYXRoVG9vbGtpdD10KCl9KHRoaXMsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgZT1mdW5jdGlvbihlKXtyZXR1cm4gZX0oKSx0PVwiKlwiLHI9XCJ1bmRlZmluZWRcIixuPVwic3RyaW5nXCIsbz1cInBhcmVudFwiLHM9XCJyb290XCIsaT1cInBsYWNlaG9sZGVyXCIsYT1cImNvbnRleHRcIixmPVwicHJvcGVydHlcIixjPVwiY29sbGVjdGlvblwiLHA9XCJlYWNoXCIsdT1cInNpbmdsZXF1b3RlXCIsbD1cImRvdWJsZXF1b3RlXCIsaD1cImNhbGxcIix4PVwiZXZhbFByb3BlcnR5XCIseT1mdW5jdGlvbihlLHIpe3ZhciBuPShlLmluZGV4T2YodCksZS5zcGxpdCh0LDIpKSxvPSEwO2lmKG5bMF0pe2lmKG5bMF09PT1lKXJldHVybiBuWzBdPT09cjtvPW8mJnIuc3Vic3RyKDAsblswXS5sZW5ndGgpPT09blswXX1yZXR1cm4gblsxXSYmKG89byYmci5zdWJzdHIoLTEqblsxXS5sZW5ndGgpPT09blsxXSksb30sZD1mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGUhPT1yJiZudWxsIT09ZSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGV8fFwib2JqZWN0XCI9PXR5cGVvZiBlKX0sZz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdHlwZW9mIGUhPT1uP2UmJiEwOih0PWUudG9VcHBlckNhc2UoKSxcIlRSVUVcIj09PXR8fFwiWUVTXCI9PT10fHxcIk9OXCI9PT10KX0sdj1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBSZWdFeHAoZSxcImdcIik7cmV0dXJuIGUrdC5yZXBsYWNlKHIsXCJcXFxcXCIrZSkrZX0sdz1mdW5jdGlvbih3KXt2YXIgRSxtLEMsUCxBLE8sYixTLGosUixrLHEsRCxGLFQ9dGhpcyxVPXt9LCQ9e30sTj1mdW5jdGlvbigpe0U9T2JqZWN0LmtleXMoJC5wcmVmaXhlcyksbT1PYmplY3Qua2V5cygkLnNlcGFyYXRvcnMpLEM9T2JqZWN0LmtleXMoJC5jb250YWluZXJzKSxQPUMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiAkLmNvbnRhaW5lcnNbZV0uY2xvc2VyfSksQT1cIlwiLE9iamVjdC5rZXlzKCQuc2VwYXJhdG9ycykuZm9yRWFjaChmdW5jdGlvbihlKXskLnNlcGFyYXRvcnNbZV0uZXhlYz09PWYmJihBPWUpfSksTz1cIlwiLGI9XCJcIixPYmplY3Qua2V5cygkLmNvbnRhaW5lcnMpLmZvckVhY2goZnVuY3Rpb24oZSl7JC5jb250YWluZXJzW2VdLmV4ZWM9PT11JiYoTz1lKSwkLmNvbnRhaW5lcnNbZV0uZXhlYz09PWwmJihiPWUpfSksUz1cIltcXFxcXFxcXFwiK1t0XS5jb25jYXQoRSkuY29uY2F0KG0pLmNvbmNhdChDKS5qb2luKFwiXFxcXFwiKS5yZXBsYWNlKFwiXFxcXFwiK0EsXCJcIikrXCJdXCIsaj1uZXcgUmVnRXhwKFMpLFI9XCJbXFxcXFxcXFxcXFxcXCIrW3RdLmNvbmNhdChFKS5jb25jYXQobSkuY29uY2F0KEMpLmNvbmNhdChQKS5qb2luKFwiXFxcXFwiKStcIl1cIixrPW5ldyBSZWdFeHAoUixcImdcIikscT1uZXcgUmVnRXhwKFwiXFxcXFwiK1IucmVwbGFjZSgvXlxcWy8sXCJbXlwiKSksRD1PfHxiP25ldyBSZWdFeHAoXCJcXFxcW1wiK08rYitcIl1cIixcImdcIik6XCJcIixGPW5ldyBSZWdFeHAoXCJcXFxcXCIrdCl9LFY9ZnVuY3Rpb24oKXskPSR8fHt9LCQudXNlQ2FjaGU9ITAsJC5zaW1wbGU9ITEsJC5mb3JjZT0hMSwkLnByZWZpeGVzPXtcIl5cIjp7ZXhlYzpvfSxcIn5cIjp7ZXhlYzpzfSxcIiVcIjp7ZXhlYzppfSxcIkBcIjp7ZXhlYzphfX0sJC5zZXBhcmF0b3JzPXtcIi5cIjp7ZXhlYzpmfSxcIixcIjp7ZXhlYzpjfSxcIjxcIjp7ZXhlYzpwfX0sJC5jb250YWluZXJzPXtcIltcIjp7Y2xvc2VyOlwiXVwiLGV4ZWM6Zn0sXCInXCI6e2Nsb3NlcjpcIidcIixleGVjOnV9LCdcIic6e2Nsb3NlcjonXCInLGV4ZWM6bH0sXCIoXCI6e2Nsb3NlcjpcIilcIixleGVjOmh9LFwie1wiOntjbG9zZXI6XCJ9XCIsZXhlYzp4fX19LFk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKEQsXCJcIikscj10Lmxlbmd0aDtyZXR1cm4hKHI8MikmJih0WzBdPT09dFtyLTFdJiYodFswXT09PU98fHRbMF09PT1iKSl9LHo9ZnVuY3Rpb24oZSl7cmV0dXJuIFkoZSk/ZS5zbGljZSgxLC0xKTplfSxCPWZ1bmN0aW9uKHIpe3ZhciBvPVwiXCIscz0hMCxpPVtdLGE9W10seD17fSx5PTAsZD1cIlwiLGc9ITEsdj0hMSx3PVwiXCIsRT0wLG09XCJcIixDPVwiXCIsUD1cIlwiLE89W10sYj0wLFM9MDtpZigkLnVzZUNhY2hlJiZVW3JdIT09ZSlyZXR1cm4gVVtyXTtpZihvPXIucmVwbGFjZShxLFwiJCZcIi5zdWJzdHIoMSkpLHk9by5sZW5ndGgsdHlwZW9mIHI9PT1uJiYhai50ZXN0KHIpKXJldHVybiBpPW8uc3BsaXQoQSksJC51c2VDYWNoZSYmKFVbcl09e3Q6aSxzaW1wbGU6c30pLHt0Omksc2ltcGxlOnN9O2ZvcihFPTA7RTx5O0UrKyl7aWYoU3x8XCJcXFxcXCIhPT1vW0VdfHwoUz1FKzEsRSsrKSxvW0VdPT09dCYmKGc9ITApLGI+MClpZighUyYmb1tFXT09PW0mJm0hPT1DLmNsb3NlciYmYisrLCFTJiZvW0VdPT09Qy5jbG9zZXImJmItLSxiPjApdys9b1tFXTtlbHNle2lmKEUrMTx5JiYkLnNlcGFyYXRvcnNbb1tFKzFdXSYmJC5zZXBhcmF0b3JzW29bRSsxXV0uZXhlYz09PWMpe2lmKHcubGVuZ3RoJiZDLmV4ZWM9PT1mKWE9eih3KTtlbHNlIGlmKEMuZXhlYz09PXV8fEMuZXhlYz09PWwpYT13O2Vsc2V7aWYoYT1CKHcpLGE9PT1lKXJldHVybjthLmV4ZWM9Qy5leGVjLGEuZG9FYWNoPXZ9Ty5wdXNoKGEpfWVsc2UgaWYoT1swXSl7aWYody5sZW5ndGgmJkMuZXhlYz09PWYpYT16KHcpO2Vsc2UgaWYoQy5leGVjPT09dXx8Qy5leGVjPT09bClhPXc7ZWxzZXtpZihhPUIodyksYT09PWUpcmV0dXJuO2EuZXhlYz1DLmV4ZWMsYS5kb0VhY2g9dn1PLnB1c2goYSksaS5wdXNoKHt0dDpPLGRvRWFjaDp2fSksTz1bXSxzJj0hMX1lbHNlIGlmKEMuZXhlYz09PWYpYT17dDpbeih3KV19LHY/KGkucHVzaCh7dzphLnRbMF0sbW9kczp7fSxkb0VhY2g6ITB9KSxzJj0hMSx2PSExKTooaS5wdXNoKGEudFswXSkscyY9ITApO2Vsc2UgaWYoQy5leGVjPT09dXx8Qy5leGVjPT09bClpLnB1c2godykscyY9ITA7ZWxzZXtpZihhPVwiXCI9PT13P3t0OltdLHNpbXBsZTohMH06Qih3KSxhPT09ZSlyZXR1cm47YS5leGVjPUMuZXhlYyxhLmRvRWFjaD12LGkucHVzaChhKSxzJj0hMX13PVwiXCJ9ZWxzZSBpZighUyYmb1tFXWluICQucHJlZml4ZXMmJiQucHJlZml4ZXNbb1tFXV0uZXhlYyl4Lmhhcz0hMCx4WyQucHJlZml4ZXNbb1tFXV0uZXhlY10/eFskLnByZWZpeGVzW29bRV1dLmV4ZWNdKys6eFskLnByZWZpeGVzW29bRV1dLmV4ZWNdPTE7ZWxzZSBpZighUyYmJC5zZXBhcmF0b3JzW29bRV1dJiYkLnNlcGFyYXRvcnNbb1tFXV0uZXhlYyl7aWYoUD0kLnNlcGFyYXRvcnNbb1tFXV0sIWQmJih4Lmhhc3x8ZykpcmV0dXJuO2QmJih4Lmhhc3x8Z3x8dikmJihkPXt3OmQsbW9kczp4LGRvRWFjaDp2fSx4PXt9LHMmPSExKSxQLmV4ZWM9PT1mfHxQLmV4ZWM9PT1wPyhPWzBdIT09ZT8oZCYmTy5wdXNoKGQpLGkucHVzaCh7dHQ6Tyxkb0VhY2g6dn0pLE89W10scyY9ITEpOihkJiZpLnB1c2goZCkscyY9ITApLHY9UC5leGVjPT09cCk6UC5leGVjPT09YyYmZCYmTy5wdXNoKGQpLGQ9XCJcIixnPSExfWVsc2UhUyYmJC5jb250YWluZXJzW29bRV1dJiYkLmNvbnRhaW5lcnNbb1tFXV0uZXhlYz8oQz0kLmNvbnRhaW5lcnNbb1tFXV0sZCYmKHguaGFzfHxnfHx2KSYmKFwic3RyaW5nXCI9PXR5cGVvZiBkP2Q9e3c6ZCxtb2RzOngsZG9FYWNoOnZ9OihkLm1vZHM9eCxkLmRvRWFjaD12KSx4PXt9KSxPWzBdIT09ZT9kJiZPLnB1c2goZCk6KGQmJmkucHVzaChkKSxzJj0hMCksbT1vW0VdLGQmJiQuY29udGFpbmVyc1ttXS5leGVjIT09aCYmKHY9ITEpLGQ9XCJcIixnPSExLGIrKyk6RTx5JiYoZCs9b1tFXSk7RTx5JiZFPT09UyYmKFM9MCl9cmV0dXJuIFN8fChcInN0cmluZ1wiPT10eXBlb2YgZCYmZCYmKHguaGFzfHxnfHx2KT8oZD17dzpkLG1vZHM6eCxkb0VhY2g6dn0seD17fSxzJj0hMSk6ZCYmZC5tb2RzJiYoZC5tb2RzPXgpLE9bMF0hPT1lPyhkJiZPLnB1c2goZCksaS5wdXNoKHt0dDpPLGRvRWFjaDp2fSkscyY9ITEpOihkJiZpLnB1c2goZCkscyY9ITApLDAhPT1iKT92b2lkIDA6KCQudXNlQ2FjaGUmJihVW3JdPXt0Omksc2ltcGxlOnN9KSx7dDppLHNpbXBsZTpzfSl9LEc9ZnVuY3Rpb24odCxyLG8scyxpKXt2YXIgYSxmLGMscD1vIT09ZSx1PVtdLGw9MCxkPTAsZz0xLHY9MCx3PTAsRT10LG09XCJcIixDPTAsUD0wLEE9XCJcIixPPTAsYj10LFM9ITEsaj0wLFI9XCJcIjtpZih0eXBlb2Ygcj09PW4paWYoJC51c2VDYWNoZSYmVVtyXSl1PVVbcl0udDtlbHNle2lmKHU9QihyKSx1PT09ZSlyZXR1cm47dT11LnR9ZWxzZSB1PXIudD9yLnQ6W3JdO2lmKGw9dS5sZW5ndGgsMCE9PWwpe2ZvcihkPWwtMSxpP2c9aS5sZW5ndGg6aT1bdF07RSE9PWUmJk88bDspe2lmKG09dVtPXSxTPXAmJk89PT1kLHR5cGVvZiBtPT09bil7aWYocClpZihTKXtpZihiW21dPW8sYlttXSE9PW8pcmV0dXJufWVsc2UgJC5mb3JjZSYmXCJ1bmRlZmluZWRcIj09dHlwZW9mIGJbbV0mJihiW21dPXt9KTtmPWJbbV19ZWxzZSBpZihtPT09ZSlmPXZvaWQgMDtlbHNlIGlmKG0udHQpaWYoZj1bXSxtLmRvRWFjaCl7aWYoIUFycmF5LmlzQXJyYXkoYikpcmV0dXJuO2Zvcih3PTAsUD1iLmxlbmd0aDt3PFA7KXtmb3Iodj0wLGYucHVzaChbXSksQz1tLnR0Lmxlbmd0aDt2PEM7KXtpZihtLnR0W3ZdLmRvRWFjaD0hMSxhPVM/RyhiW3ddLG0udHRbdl0sbyxzLGkpOlwic3RyaW5nXCI9PXR5cGVvZiBtLnR0W3ZdP2Jbd11bbS50dFt2XV06RyhiW3ddLG0udHRbdl0sdm9pZCAwLHMsaSksYT09PWUpcmV0dXJuO1M/bS50dFt2XS50JiZtLnR0W3ZdLmV4ZWM9PT14P2Jbd11bYV09bzpmW3ddLnB1c2goYSk6bS50dFt2XS50JiZtLnR0W3ZdLmV4ZWM9PT14P2Zbd10ucHVzaChiW3ddW2FdKTpmW3ddLnB1c2goYSksdisrfXcrK319ZWxzZSBmb3Iodj0wLEM9bS50dC5sZW5ndGg7djxDOyl7aWYoYT1TP0coYixtLnR0W3ZdLG8scyxpKTpcInN0cmluZ1wiPT10eXBlb2YgbS50dFt2XT9iW20udHRbdl1dOkcoYixtLnR0W3ZdLHZvaWQgMCxzLGkpLGE9PT1lKXJldHVybjtTP20udHRbdl0udCYmbS50dFt2XS5leGVjPT09eD9iW2FdPW86Zi5wdXNoKGEpOm0udHRbdl0udCYmbS50dFt2XS5leGVjPT09eD9mLnB1c2goYlthXSk6Zi5wdXNoKGEpLHYrK31lbHNlIGlmKG0udyl7aWYoQT1tLncsbS5tb2RzLmhhcyl7aWYobS5tb2RzLnBhcmVudCYmKGI9aVtnLTEtbS5tb2RzLnBhcmVudF0sYj09PWUpKXJldHVybjtpZihtLm1vZHMucm9vdCYmKGI9aVswXSxpPVtiXSxnPTEpLG0ubW9kcy5wbGFjZWhvbGRlcil7aWYoaj1BLTEsc1tqXT09PWUpcmV0dXJuO0E9c1tqXS50b1N0cmluZygpfX1pZihtLmRvRWFjaCl7aWYoIUFycmF5LmlzQXJyYXkoYikpcmV0dXJuO2ZvcihmPVtdLHY9MCxQPWIubGVuZ3RoO3Y8UDspe2lmKG0ubW9kcy5jb250ZXh0KXtpZihqPUEtMSxzW2pdPT09ZSlyZXR1cm47Zi5wdXNoKHNbal0pfWVsc2UgaWYoYlt2XVtBXSE9PWUpUyYmKGJbdl1bQV09byksZi5wdXNoKGJbdl1bQV0pO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYlt2XSlmLnB1c2goQSk7ZWxzZXtpZighRi50ZXN0KEEpKXJldHVybjtmLnB1c2goW10pO2ZvcihSIGluIGJbdl0peShBLFIpJiYoUyYmKGJbdl1bUl09byksZlt2XS5wdXNoKGJbdl1bUl0pKX12Kyt9fWVsc2UgaWYobS5tb2RzLmNvbnRleHQpe2lmKGo9QS0xLHNbal09PT1lKXJldHVybjtmPXNbal19ZWxzZSBpZihiW0FdIT09ZSlTJiYoYltBXT1vKSxmPWJbQV07ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBiKWY9QTtlbHNle2lmKCFGLnRlc3QoQSkpcmV0dXJuO2Y9W107Zm9yKFIgaW4gYil5KEEsUikmJihTJiYoYltSXT1vKSxmLnB1c2goYltSXSkpfX1lbHNlIGlmKG0uZXhlYz09PXgpaWYobS5kb0VhY2gpe2lmKCFBcnJheS5pc0FycmF5KGIpKXJldHVybjtmb3IoZj1bXSx2PTAsUD1iLmxlbmd0aDt2PFA7KW0uc2ltcGxlPyhTJiYoYlt2XVtULmdldChiW3ZdLHt0Om0udCxzaW1wbGU6ITB9KV09byksZi5wdXNoKGJbdl1bVC5nZXQoYlt2XSx7dDptLnQsc2ltcGxlOiEwfSldKSk6KFMmJihiW3ZdW0coYlt2XSxtLGUscyxpKV09byksZi5wdXNoKGJbdl1bRyhiW3ZdLG0sZSxzLGkpXSkpLHYrK31lbHNlIG0uc2ltcGxlPyhTJiYoYltULmdldChiLHt0Om0udCxzaW1wbGU6ITB9KV09byksZj1iW1QuZ2V0KGIse3Q6bS50LHNpbXBsZTohMH0pXSk6KFMmJihiW0coYixtLGUscyxpKV09byksZj1iW0coYixtLGUscyxpKV0pO2Vsc2UgaWYobS5leGVjPT09aClpZihtLmRvRWFjaCl7aWYoIUFycmF5LmlzQXJyYXkoaVtnLTJdKSlyZXR1cm47Zm9yKGY9W10sdj0wLFA9Yi5sZW5ndGg7djxQOyltLnQmJm0udC5sZW5ndGg/KGM9RyhiLG0sZSxzLGkpLGM9PT1lP2YucHVzaChiW3ZdLmFwcGx5KGlbZy0yXVt2XSkpOkFycmF5LmlzQXJyYXkoYyk/Zi5wdXNoKGJbdl0uYXBwbHkoaVtnLTJdW3ZdLGMpKTpmLnB1c2goYlt2XS5jYWxsKGlbZy0yXVt2XSxjKSkpOmYucHVzaChiW3ZdLmNhbGwoaVtnLTJdW3ZdKSksdisrfWVsc2UgbS50JiZtLnQubGVuZ3RoPyhjPW0uc2ltcGxlP1QuZ2V0KGIsbSk6RyhiLG0sZSxzLGkpLGY9Yz09PWU/Yi5hcHBseShpW2ctMl0pOkFycmF5LmlzQXJyYXkoYyk/Yi5hcHBseShpW2ctMl0sYyk6Yi5jYWxsKGlbZy0yXSxjKSk6Zj1iLmNhbGwoaVtnLTJdKTtpW2crK109ZixiPWYsRT1mLE8rK31yZXR1cm4gYn19LEg9ZnVuY3Rpb24odCxyLG4pe3ZhciBvPW4hPT1lLHM9W10saT0wLGE9MDtmb3Iocz1yLnNwbGl0KEEpLCQudXNlQ2FjaGUmJihVW3JdPXt0OnMsc2ltcGxlOiEwfSksYT1zLmxlbmd0aDt0IT09ZSYmaTxhOyl7aWYoXCJcIj09PXNbaV0pcmV0dXJuO28mJihpPT09YS0xP3Rbc1tpXV09bjokLmZvcmNlJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgdFtzW2ldXSYmKHRbc1tpXV09e30pKSx0PXRbc1tpKytdXX1yZXR1cm4gdH0sST1mdW5jdGlvbih0LHIsbil7Zm9yKHZhciBvPW4hPT1lLHM9MCxpPXIubGVuZ3RoO251bGwhPXQmJnM8aTspe2lmKFwiXCI9PT1yW3NdKXJldHVybjtvJiYocz09PWktMT90W3Jbc11dPW46JC5mb3JjZSYmXCJ1bmRlZmluZWRcIj09dHlwZW9mIHRbcltzXV0mJih0W3Jbc11dPXt9KSksdD10W3JbcysrXV19cmV0dXJuIHR9LEo9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG8scyxpLGEsZjtpZihuPW4/bjpcIlwiLGU9PT10KXJldHVybiByKG4pO2lmKEFycmF5LmlzQXJyYXkoZSkpe2ZvcihzPWUubGVuZ3RoLG89MDtvPHM7bysrKWlmKGk9SihlW29dLHQscixuK0ErbyksIWkpcmV0dXJuO3JldHVybiEwfWlmKGQoZSkpe2ZvcihhPU9iamVjdC5rZXlzKGUpLHM9YS5sZW5ndGgscz4xJiYoYT1hLnNvcnQoKSksbz0wO288cztvKyspaWYoZS5oYXNPd25Qcm9wZXJ0eShhW29dKSYmKGY9YVtvXSxrLnRlc3QoZikmJihmPXYoTyxmKSksaT1KKGVbYVtvXV0sdCxyLG4rQStmKSwhaSkpcmV0dXJuO3JldHVybiEwfXJldHVybiEwfTtULmdldFRva2Vucz1mdW5jdGlvbihlKXt2YXIgdD1CKGUpO2lmKHR5cGVvZiB0IT09cilyZXR1cm4gdH0sVC5pc1ZhbGlkPWZ1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgQihlKSE9PXJ9LFQuZXNjYXBlPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoayxcIlxcXFwkJlwiKX0sVC5nZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcixvPTAscz1hcmd1bWVudHMubGVuZ3RoO2lmKHR5cGVvZiB0PT09bil7aWYoJC51c2VDYWNoZSYmVVt0XSYmVVt0XS5zaW1wbGUpcmV0dXJuIEkoZSxVW3RdLnQpO2lmKCFqLnRlc3QodCkpcmV0dXJuIEgoZSx0KX1lbHNlIGlmKEFycmF5LmlzQXJyYXkodC50KSYmdC5zaW1wbGUpcmV0dXJuIEkoZSx0LnQpO2lmKHI9W10scz4yKWZvcihvPTI7bzxzO28rKylyW28tMl09YXJndW1lbnRzW29dO3JldHVybiBHKGUsdCx2b2lkIDAscil9LFQuc2V0PWZ1bmN0aW9uKHQscixvKXt2YXIgcyxpLGE9MCxmPWFyZ3VtZW50cy5sZW5ndGgsYz0hMTtpZih0eXBlb2Ygcj09PW4/JC51c2VDYWNoZSYmVVtyXSYmVVtyXS5zaW1wbGU/KGk9SSh0LFVbcl0udCxvKSxjfD0hMCk6ai50ZXN0KHIpfHwoaT1IKHQscixvKSxjfD0hMCk6QXJyYXkuaXNBcnJheShyLnQpJiZyLnNpbXBsZSYmKGk9SSh0LHIudCxvKSxjfD0hMCksIWMpe2lmKGY+Mylmb3Iocz1bXSxhPTM7YTxmO2ErKylzW2EtM109YXJndW1lbnRzW2FdO2k9Ryh0LHIsbyxzKX1yZXR1cm4gQXJyYXkuaXNBcnJheShpKT9pLmluZGV4T2Yodm9pZCAwKT09PS0xOmkhPT1lfSxULmZpbmQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPVtdLG89ZnVuY3Rpb24oZSl7cmV0dXJuIG4ucHVzaChlLnN1YnN0cigxKSksISghcnx8XCJvbmVcIj09PXIpfHwobj1uWzBdLCExKX07cmV0dXJuIEooZSx0LG8pLG5bMF0/bjp2b2lkIDB9O3ZhciBLPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPVwiXCI7T2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbihyKXtlW3JdLmV4ZWM9PT10JiYobz1yKX0pLGRlbGV0ZSBlW29dLGVbcl09e2V4ZWM6dH0sbiYmKGVbcl0uY2xvc2VyPW4pfSxMPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3R5cGVvZiBlPT09biYmMT09PWUubGVuZ3RofHwoZT1cIi5cIiksdFtlXT17ZXhlYzpmfSwkLnByZWZpeGVzPXt9LCQuY29udGFpbmVycz17fSwkLnNlcGFyYXRvcnM9dH07VC5zZXRPcHRpb25zPWZ1bmN0aW9uKGUpe2lmKGUucHJlZml4ZXMmJigkLnByZWZpeGVzPWUucHJlZml4ZXMsVT17fSksZS5zZXBhcmF0b3JzJiYoJC5zZXBhcmF0b3JzPWUuc2VwYXJhdG9ycyxVPXt9KSxlLmNvbnRhaW5lcnMmJigkLmNvbnRhaW5lcnM9ZS5jb250YWluZXJzLFU9e30pLHR5cGVvZiBlLmNhY2hlIT09ciYmKCQudXNlQ2FjaGU9ISFlLmNhY2hlKSx0eXBlb2YgZS5zaW1wbGUhPT1yKXt2YXIgdD0kLnVzZUNhY2hlLG49JC5mb3JjZTskLnNpbXBsZT1nKGUuc2ltcGxlKSwkLnNpbXBsZT9MKCk6KFYoKSwkLnVzZUNhY2hlPXQsJC5mb3JjZT1uKSxVPXt9fXR5cGVvZiBlLmZvcmNlIT09ciYmKCQuZm9yY2U9ZyhlLmZvcmNlKSksTigpfSxULnNldENhY2hlPWZ1bmN0aW9uKGUpeyQudXNlQ2FjaGU9ZyhlKX0sVC5zZXRDYWNoZU9uPWZ1bmN0aW9uKCl7JC51c2VDYWNoZT0hMH0sVC5zZXRDYWNoZU9mZj1mdW5jdGlvbigpeyQudXNlQ2FjaGU9ITF9LFQuc2V0Rm9yY2U9ZnVuY3Rpb24oZSl7JC5mb3JjZT1nKGUpfSxULnNldEZvcmNlT249ZnVuY3Rpb24oKXskLmZvcmNlPSEwfSxULnNldEZvcmNlT2ZmPWZ1bmN0aW9uKCl7JC5mb3JjZT0hMX0sVC5zZXRTaW1wbGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj0kLnVzZUNhY2hlLG49JC5mb3JjZTskLnNpbXBsZT1nKGUpLCQuc2ltcGxlPyhMKHQpLE4oKSk6KFYoKSxOKCksJC51c2VDYWNoZT1yLCQuZm9yY2U9biksVT17fX0sVC5zZXRTaW1wbGVPbj1mdW5jdGlvbihlKXskLnNpbXBsZT0hMCxMKGUpLE4oKSxVPXt9fSxULnNldFNpbXBsZU9mZj1mdW5jdGlvbigpe3ZhciBlPSQudXNlQ2FjaGUsdD0kLmZvcmNlOyQuc2ltcGxlPSExLFYoKSxOKCksJC51c2VDYWNoZT1lLCQuZm9yY2U9dCxVPXt9fSxULnNldFNlcGFyYXRvclByb3BlcnR5PWZ1bmN0aW9uKGUpe2lmKHR5cGVvZiBlIT09bnx8MSE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcInNldFNlcGFyYXRvclByb3BlcnR5IC0gaW52YWxpZCB2YWx1ZVwiKTtpZihlPT09dHx8JC5zZXBhcmF0b3JzW2VdJiYkLnNlcGFyYXRvcnNbZV0uZXhlYyE9PWZ8fCQucHJlZml4ZXNbZV18fCQuY29udGFpbmVyc1tlXSl0aHJvdyBuZXcgRXJyb3IoXCJzZXRTZXBhcmF0b3JQcm9wZXJ0eSAtIHZhbHVlIGFscmVhZHkgaW4gdXNlXCIpO0soJC5zZXBhcmF0b3JzLGYsZSksTigpLFU9e319LFQuc2V0U2VwYXJhdG9yQ29sbGVjdGlvbj1mdW5jdGlvbihlKXtpZih0eXBlb2YgZSE9PW58fDEhPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJzZXRTZXBhcmF0b3JDb2xsZWN0aW9uIC0gaW52YWxpZCB2YWx1ZVwiKTtpZihlPT09dHx8JC5zZXBhcmF0b3JzW2VdJiYkLnNlcGFyYXRvcnNbZV0uZXhlYyE9PWN8fCQucHJlZml4ZXNbZV18fCQuY29udGFpbmVyc1tlXSl0aHJvdyBuZXcgRXJyb3IoXCJzZXRTZXBhcmF0b3JDb2xsZWN0aW9uIC0gdmFsdWUgYWxyZWFkeSBpbiB1c2VcIik7SygkLnNlcGFyYXRvcnMsYyxlKSxOKCksVT17fX0sVC5zZXRQcmVmaXhQYXJlbnQ9ZnVuY3Rpb24oZSl7aWYodHlwZW9mIGUhPT1ufHwxIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwic2V0UHJlZml4UGFyZW50IC0gaW52YWxpZCB2YWx1ZVwiKTtpZihlPT09dHx8JC5wcmVmaXhlc1tlXSYmJC5wcmVmaXhlc1tlXS5leGVjIT09b3x8JC5zZXBhcmF0b3JzW2VdfHwkLmNvbnRhaW5lcnNbZV0pdGhyb3cgbmV3IEVycm9yKFwic2V0UHJlZml4UGFyZW50IC0gdmFsdWUgYWxyZWFkeSBpbiB1c2VcIik7SygkLnByZWZpeGVzLG8sZSksTigpLFU9e319LFQuc2V0UHJlZml4Um9vdD1mdW5jdGlvbihlKXtpZih0eXBlb2YgZSE9PW58fDEhPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJzZXRQcmVmaXhSb290IC0gaW52YWxpZCB2YWx1ZVwiKTtpZihlPT09dHx8JC5wcmVmaXhlc1tlXSYmJC5wcmVmaXhlc1tlXS5leGVjIT09c3x8JC5zZXBhcmF0b3JzW2VdfHwkLmNvbnRhaW5lcnNbZV0pdGhyb3cgbmV3IEVycm9yKFwic2V0UHJlZml4Um9vdCAtIHZhbHVlIGFscmVhZHkgaW4gdXNlXCIpO0soJC5wcmVmaXhlcyxzLGUpLE4oKSxVPXt9fSxULnNldFByZWZpeFBsYWNlaG9sZGVyPWZ1bmN0aW9uKGUpe2lmKHR5cGVvZiBlIT09bnx8MSE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcInNldFByZWZpeFBsYWNlaG9sZGVyIC0gaW52YWxpZCB2YWx1ZVwiKTtpZihlPT09dHx8JC5wcmVmaXhlc1tlXSYmJC5wcmVmaXhlc1tlXS5leGVjIT09aXx8JC5zZXBhcmF0b3JzW2VdfHwkLmNvbnRhaW5lcnNbZV0pdGhyb3cgbmV3IEVycm9yKFwic2V0UHJlZml4UGxhY2Vob2xkZXIgLSB2YWx1ZSBhbHJlYWR5IGluIHVzZVwiKTtLKCQucHJlZml4ZXMsaSxlKSxOKCksVT17fX0sVC5zZXRQcmVmaXhDb250ZXh0PWZ1bmN0aW9uKGUpe2lmKHR5cGVvZiBlIT09bnx8MSE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcInNldFByZWZpeENvbnRleHQgLSBpbnZhbGlkIHZhbHVlXCIpO2lmKGU9PT10fHwkLnByZWZpeGVzW2VdJiYkLnByZWZpeGVzW2VdLmV4ZWMhPT1hfHwkLnNlcGFyYXRvcnNbZV18fCQuY29udGFpbmVyc1tlXSl0aHJvdyBuZXcgRXJyb3IoXCJzZXRQcmVmaXhDb250ZXh0IC0gdmFsdWUgYWxyZWFkeSBpbiB1c2VcIik7SygkLnByZWZpeGVzLGEsZSksTigpLFU9e319LFQuc2V0Q29udGFpbmVyUHJvcGVydHk9ZnVuY3Rpb24oZSxyKXtpZih0eXBlb2YgZSE9PW58fDEhPT1lLmxlbmd0aHx8dHlwZW9mIHIhPT1ufHwxIT09ci5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwic2V0Q29udGFpbmVyUHJvcGVydHkgLSBpbnZhbGlkIHZhbHVlXCIpO2lmKGU9PT10fHwkLmNvbnRhaW5lcnNbZV0mJiQuY29udGFpbmVyc1tlXS5leGVjIT09Znx8JC5zZXBhcmF0b3JzW2VdfHwkLnByZWZpeGVzW2VdKXRocm93IG5ldyBFcnJvcihcInNldENvbnRhaW5lclByb3BlcnR5IC0gdmFsdWUgYWxyZWFkeSBpbiB1c2VcIik7SygkLmNvbnRhaW5lcnMsZixlLHIpLE4oKSxVPXt9fSxULnNldENvbnRhaW5lclNpbmdsZXF1b3RlPWZ1bmN0aW9uKGUscil7aWYodHlwZW9mIGUhPT1ufHwxIT09ZS5sZW5ndGh8fHR5cGVvZiByIT09bnx8MSE9PXIubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcInNldENvbnRhaW5lclNpbmdsZXF1b3RlIC0gaW52YWxpZCB2YWx1ZVwiKTtpZihlPT09dHx8JC5jb250YWluZXJzW2VdJiYkLmNvbnRhaW5lcnNbZV0uZXhlYyE9PXV8fCQuc2VwYXJhdG9yc1tlXXx8JC5wcmVmaXhlc1tlXSl0aHJvdyBuZXcgRXJyb3IoXCJzZXRDb250YWluZXJTaW5nbGVxdW90ZSAtIHZhbHVlIGFscmVhZHkgaW4gdXNlXCIpO0soJC5jb250YWluZXJzLHUsZSxyKSxOKCksVT17fX0sVC5zZXRDb250YWluZXJEb3VibGVxdW90ZT1mdW5jdGlvbihlLHIpe2lmKHR5cGVvZiBlIT09bnx8MSE9PWUubGVuZ3RofHx0eXBlb2YgciE9PW58fDEhPT1yLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJzZXRDb250YWluZXJEb3VibGVxdW90ZSAtIGludmFsaWQgdmFsdWVcIik7aWYoZT09PXR8fCQuY29udGFpbmVyc1tlXSYmJC5jb250YWluZXJzW2VdLmV4ZWMhPT1sfHwkLnNlcGFyYXRvcnNbZV18fCQucHJlZml4ZXNbZV0pdGhyb3cgbmV3IEVycm9yKFwic2V0Q29udGFpbmVyRG91YmxlcXVvdGUgLSB2YWx1ZSBhbHJlYWR5IGluIHVzZVwiKTtLKCQuY29udGFpbmVycyxsLGUsciksTigpLFU9e319LFQuc2V0Q29udGFpbmVyQ2FsbD1mdW5jdGlvbihlLHIpe2lmKHR5cGVvZiBlIT09bnx8MSE9PWUubGVuZ3RofHx0eXBlb2YgciE9PW58fDEhPT1yLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJzZXRDb250YWluZXJDYWxsIC0gaW52YWxpZCB2YWx1ZVwiKTtpZihlPT09dHx8JC5jb250YWluZXJzW2VdJiYkLmNvbnRhaW5lcnNbZV0uZXhlYyE9PWh8fCQuc2VwYXJhdG9yc1tlXXx8JC5wcmVmaXhlc1tlXSl0aHJvdyBuZXcgRXJyb3IoXCJzZXRDb250YWluZXJDYWxsIC0gdmFsdWUgYWxyZWFkeSBpbiB1c2VcIik7SygkLmNvbnRhaW5lcnMsaCxlLHIpLE4oKSxVPXt9fSxULnNldENvbnRhaW5lckV2YWxQcm9wZXJ0eT1mdW5jdGlvbihlLHIpe2lmKHR5cGVvZiBlIT09bnx8MSE9PWUubGVuZ3RofHx0eXBlb2YgciE9PW58fDEhPT1yLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJzZXRDb250YWluZXJQcm9wZXJ0eSAtIGludmFsaWQgdmFsdWVcIik7aWYoZT09PXR8fCQuY29udGFpbmVyc1tlXSYmJC5jb250YWluZXJzW2VdLmV4ZWMhPT14fHwkLnNlcGFyYXRvcnNbZV18fCQucHJlZml4ZXNbZV0pdGhyb3cgbmV3IEVycm9yKFwic2V0Q29udGFpbmVyRXZhbFByb3BlcnR5IC0gdmFsdWUgYWxyZWFkeSBpbiB1c2VcIik7SygkLmNvbnRhaW5lcnMseCxlLHIpLE4oKSxVPXt9fSxULnJlc2V0T3B0aW9ucz1mdW5jdGlvbigpe1YoKSxOKCksVT17fX0sVigpLE4oKSx3JiZULnNldE9wdGlvbnModyl9O3JldHVybiB3fSk7Il0sImZpbGUiOiJwYXRoLXRvb2xraXQtbWluLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=